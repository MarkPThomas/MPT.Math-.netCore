dist: trusty
language: csharp
mono: none
dotnet: 2.1.502  #3.1.300 # For some reason .Net Core v3.1 is not working with Travis. I might have been using the wrong version. Check cmd: dotnet --version
install:
- dotnet restore
addons:
  sonarcloud:
    organization: "markpthomas-github"
    token:
      # encrypted value of your token by running the command line: travis encrypt {token_provided_by_SonarCloud}
      secure: "F7SBPFsA4RZFBAxClB7y3jiJ9pOWQ0Yc+X7M3f+tznCXMh1UUb4XaX5KY8Bmm38e4mxcLXgjrUHmI67/HiHJt+GZgykkwkpTD4/yPctYOsUBCly2TbshuAOCEXE9FNYsTnCrbeF3Nw9h0S/ag/uc+z24xObM45hsejxr2dczwFtuXD8WHUE8XW9eABSG2cIOXRHaDGZ8d3CVyhv/KxLl/GzqpV1L3b45SXPbkW1ChwoSLMDhKKrW3V/0Rj8QAmCAFFIlflqDjat3N9uyKu0sbRmosRmFTlj1SsKKZodxRvprdpCcHaydqpBjGZeZgLlo7s18Fqio5+pN6wWIK0M0FiSOVtKvLlq3tt8ZYieSle/WWeGv3PI+PqKu8yUI2cGNburjs8M+2mbXSpDN4hjmgGHraNzd+17h2cDWhInKuAhWrXthyUwUaEWY2f+Xc+LjH3013LFWPPahyb1teFiVyzhwS919E7HFuj0DMNcN5ZKSoLBg5FyWN98OsUeI6FQcS7w6oKEM88GZBz842OXJldJmQNs9v7dbBzI4VwA0VtYWyL5JbZejgqAJIsXztizI+2w5EhqVPxH/+5hWKtD55TEu3Eq/4+ugGo7LGKT1YK45phtnBIWAGO1vmL8z1RCr+Z5tNVdl/s+iOsJeO63sFBKMqg/vXOBKBb6pSp8O/s8=" 

script:
  - dotnet build MPT.Math/MPT.Math.csproj
  - dotnet test MPT.Math.UnitTests/MPT.Math.UnitTests.csproj
  #- dotnet test MPT.Math.xUnitTests/MPT.Math.xUnitTests.csproj
  
  # the following command line builds the project, runs the tests with coverage and then execute the SonarCloud analysis
  - sonar-scanner